/* ================================================
   Post.css - 文章页面专用样式
   继承 main.css，扩展文章特定样式
   仅在 posts/single.html 中加载
   ================================================ */

@import "tailwindcss";
@import "./main.css";

/* ================================================
   Typography 基础样式（手动实现，兼容 Tailwind v4）
   由于 @tailwindcss/typography v0.5.x 不兼容 Tailwind v4
   我们手动添加 prose 样式
   ================================================ */

.prose {
  color: rgb(55 65 81);
  max-width: 65ch;
}

.dark .prose {
  color: rgb(209 213 219);
}

.prose :where(p):not(:where([class~="not-prose"] *)) {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
}

.prose :where([class~="lead"]):not(:where([class~="not-prose"] *)) {
  color: rgb(75 85 99);
  font-size: 1.25em;
  line-height: 1.6;
  margin-top: 1.2em;
  margin-bottom: 1.2em;
}

.dark .prose :where([class~="lead"]):not(:where([class~="not-prose"] *)) {
  color: rgb(156 163 175);
}

.prose :where(a):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  text-decoration: underline;
  font-weight: 500;
}

.dark .prose :where(a):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(strong):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 600;
}

.dark .prose :where(strong):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(ol):not(:where([class~="not-prose"] *)) {
  list-style-type: decimal;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose :where(ul):not(:where([class~="not-prose"] *)) {
  list-style-type: disc;
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose :where(li):not(:where([class~="not-prose"] *)) {
  margin-top: 0.125em;
  margin-bottom: 0.125em;
}

.prose :where(ol > li):not(:where([class~="not-prose"] *)) {
  padding-left: 0.375em;
}

.prose :where(ul > li):not(:where([class~="not-prose"] *)) {
  padding-left: 0.375em;
}

.prose :where(.prose > ul > li p):not(:where([class~="not-prose"] *)) {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose :where(.prose > ol > li > *:first-child):not(:where([class~="not-prose"] *)) {
  margin-top: 1.25em;
}

.prose :where(.prose > ol > li > *:last-child):not(:where([class~="not-prose"] *)) {
  margin-bottom: 1.25em;
}

.prose :where(.prose > ul > li > *:first-child):not(:where([class~="not-prose"] *)) {
  margin-top: 1.25em;
}

.prose :where(.prose > ul > li > *:last-child):not(:where([class~="not-prose"] *)) {
  margin-bottom: 1.25em;
}

.prose :where(h1):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 800;
  font-size: 2.25em;
  margin-top: 0;
  margin-bottom: 0.8888889em;
  line-height: 1.1111111;
}

.dark .prose :where(h1):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(h2):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 700;
  font-size: 1.5em;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.3333333;
}

.dark .prose :where(h2):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(h3):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 600;
  font-size: 1.25em;
  margin-top: 1.6em;
  margin-bottom: 0.6em;
  line-height: 1.6;
}

.dark .prose :where(h3):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(h4):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.5;
}

.dark .prose :where(h4):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(img):not(:where([class~="not-prose"] *)) {
  margin-top: 2em;
  margin-bottom: 2em;
}

.prose :where(figure > *):not(:where([class~="not-prose"] *)) {
  margin-top: 0;
  margin-bottom: 0;
}

.prose :where(figcaption):not(:where([class~="not-prose"] *)) {
  color: rgb(107 114 128);
  font-size: 0.875em;
  line-height: 1.4285714;
  margin-top: 0.8571429em;
}

.dark .prose :where(figcaption):not(:where([class~="not-prose"] *)) {
  color: rgb(156 163 175);
}

.prose :where(code):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 600;
  font-size: 0.875em;
}

.dark .prose :where(code):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
}

.prose :where(code):not(:where([class~="not-prose"] *))::before {
  content: "`";
}

.prose :where(code):not(:where([class~="not-prose"] *))::after {
  content: "`";
}

.prose :where(pre):not(:where([class~="not-prose"] *)) {
  color: rgb(229 231 235);
  background-color: rgb(31 41 55);
  overflow-x: auto;
  font-size: 0.875em;
  line-height: 1.7142857;
  margin-top: 1.7142857em;
  margin-bottom: 1.7142857em;
  border-radius: 0.375rem;
  padding-top: 0.8571429em;
  padding-right: 1.1428571em;
  padding-bottom: 0.8571429em;
  padding-left: 1.1428571em;
}

.prose :where(pre code):not(:where([class~="not-prose"] *)) {
  background-color: transparent;
  border-width: 0;
  border-radius: 0;
  padding: 0;
  font-weight: 400;
  color: inherit;
  font-size: inherit;
  font-family: inherit;
  line-height: inherit;
}

.prose :where(pre code):not(:where([class~="not-prose"] *))::before {
  content: none;
}

.prose :where(pre code):not(:where([class~="not-prose"] *))::after {
  content: none;
}

.prose :where(table):not(:where([class~="not-prose"] *)) {
  width: 100%;
  table-layout: auto;
  text-align: left;
  margin-top: 2em;
  margin-bottom: 2em;
  font-size: 0.875em;
  line-height: 1.7142857;
}

.prose :where(thead):not(:where([class~="not-prose"] *)) {
  color: rgb(17 24 39);
  font-weight: 600;
  border-bottom-width: 1px;
  border-bottom-color: rgb(209 213 219);
}

.dark .prose :where(thead):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
  border-bottom-color: rgb(75 85 99);
}

.prose :where(thead th):not(:where([class~="not-prose"] *)) {
  vertical-align: bottom;
  padding-right: 0.5714286em;
  padding-bottom: 0.5714286em;
  padding-left: 0.5714286em;
}

.prose :where(tbody tr):not(:where([class~="not-prose"] *)) {
  border-bottom-width: 1px;
  border-bottom-color: rgb(229 231 235);
}

.dark .prose :where(tbody tr):not(:where([class~="not-prose"] *)) {
  border-bottom-color: rgb(55 65 81);
}

.prose :where(tbody tr:last-child):not(:where([class~="not-prose"] *)) {
  border-bottom-width: 0;
}

.prose :where(tbody td):not(:where([class~="not-prose"] *)) {
  vertical-align: top;
  padding-top: 0.5714286em;
  padding-right: 0.5714286em;
  padding-bottom: 0.5714286em;
  padding-left: 0.5714286em;
}

.prose :where(blockquote):not(:where([class~="not-prose"] *)) {
  font-weight: 500;
  font-style: italic;
  color: rgb(17 24 39);
  border-left-width: 0.25rem;
  border-left-color: rgb(229 231 235);
  quotes: "\201C""\201D""\2018""\2019";
  margin-top: 1.6em;
  margin-bottom: 1.6em;
  padding-left: 1em;
}

.dark .prose :where(blockquote):not(:where([class~="not-prose"] *)) {
  color: rgb(255 255 255);
  border-left-color: rgb(75 85 99);
}

.prose :where(blockquote p:first-of-type):not(:where([class~="not-prose"] *))::before {
  content: open-quote;
}

.prose :where(blockquote p:last-of-type):not(:where([class~="not-prose"] *))::after {
  content: close-quote;
}

.prose :where(hr):not(:where([class~="not-prose"] *)) {
  border-color: rgb(229 231 235);
  border-top-width: 1px;
  margin-top: 3em;
  margin-bottom: 3em;
}

.dark .prose :where(hr):not(:where([class~="not-prose"] *)) {
  border-color: rgb(75 85 99);
}

/* Prose 大小变体 */
.prose-lg {
  font-size: 1.125rem;
  line-height: 1;
}

.prose-xl {
  font-size: 1.25rem;
  line-height: 1.8;
}

/* Prose 反转色（深色背景） */
.prose-invert {
  --tw-prose-body: rgb(209 213 219);
  --tw-prose-headings: rgb(255 255 255);
  --tw-prose-lead: rgb(156 163 175);
  --tw-prose-links: rgb(255 255 255);
  --tw-prose-bold: rgb(255 255 255);
  --tw-prose-counters: rgb(156 163 175);
  --tw-prose-bullets: rgb(75 85 99);
  --tw-prose-hr: rgb(55 65 81);
  --tw-prose-quotes: rgb(243 244 246);
  --tw-prose-quote-borders: rgb(55 65 81);
  --tw-prose-captions: rgb(156 163 175);
  --tw-prose-code: rgb(255 255 255);
  --tw-prose-pre-code: rgb(209 213 219);
  --tw-prose-pre-bg: rgb(17 24 39);
  --tw-prose-th-borders: rgb(75 85 99);
  --tw-prose-td-borders: rgb(55 65 81);
}

/* ================================================
   文章容器样式
   ================================================ */

/* 文章主容器优化 */
.post-container {
  max-width: 100%;
  margin: 0 auto;
}

/* 文章内容区域 */
.post-content {
  position: relative;
}

/* ================================================
   面包屑导航增强
   ================================================ */

.breadcrumb-nav {
  position: relative;
  margin-bottom: 1.5rem;
}

.breadcrumb-nav ol {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem;
}

.breadcrumb-nav a {
  transition: all 0.2s ease;
  text-decoration: none;
}

.breadcrumb-nav a:hover {
  transform: translateX(2px);
}

/* ================================================
   特色图片优化
   ================================================ */

.featured-image {
  position: relative;
  overflow: hidden;
  border-radius: 0.75rem;
  margin-bottom: 2rem;
  box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.2);
}

.dark .featured-image {
  box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
}

.featured-image img {
  width: 100%;
  height: auto;
  display: block;
  transition: transform 0.5s ease;
}

.featured-image:hover img {
  transform: scale(1.05);
}

/* 图片加载动画 */
.featured-image img[loading="eager"] {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ================================================
   文章元信息样式
   ================================================ */

.post-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: center;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid rgb(229 231 235);
}

.dark .post-meta {
  border-bottom-color: rgb(55 65 81);
}

.post-meta-item {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: rgb(75 85 99);
}

.dark .post-meta-item {
  color: rgb(156 163 175);
}

.post-meta-item svg {
  flex-shrink: 0;
}

/* ================================================
   分类和标签样式增强
   ================================================ */

.post-taxonomies {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-top: 1.5rem;
}

.taxonomy-group {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

/* 分类徽章 */
.category-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.375rem 0.75rem;
  background: linear-gradient(135deg, rgb(219 234 254), rgb(191 219 254));
  color: rgb(30 64 175);
  border-radius: 0.5rem;
  font-weight: 500;
  font-size: 0.875rem;
  text-decoration: none;
  transition: all 0.2s ease;
}

.dark .category-badge {
  background: linear-gradient(135deg, rgb(30 58 138), rgb(29 78 216));
  color: rgb(191 219 254);
}

.category-badge:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(59 130 246, 0.3);
}

/* 标签徽章 */
.tag-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.375rem 0.75rem;
  background: linear-gradient(135deg, rgb(243 232 255), rgb(233 213 255));
  color: rgb(91 33 182);
  border-radius: 0.5rem;
  font-weight: 500;
  font-size: 0.875rem;
  text-decoration: none;
  transition: all 0.2s ease;
}

.dark .tag-badge {
  background: linear-gradient(135deg, rgb(76 29 149), rgb(107 33 168));
  color: rgb(233 213 255);
}

.tag-badge:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(147 51 234, 0.3);
}

/* ================================================
   文章描述引用框
   ================================================ */

.post-description {
  position: relative;
  padding: 1.25rem 1.5rem;
  margin-top: 1.5rem;
  background: linear-gradient(135deg, rgb(239 246 255), rgb(219 234 254));
  border-left: 4px solid rgb(59 130 246);
  border-radius: 0 0.5rem 0.5rem 0;
  color: rgb(55 65 81);
  font-style: italic;
  line-height: 1.75;
  box-shadow: 0 2px 8px rgba(59 130 246, 0.1);
}

.dark .post-description {
  background: linear-gradient(135deg, rgba(30 58 138, 0.3), rgba(29 78 216, 0.2));
  color: rgb(209 213 219);
  box-shadow: 0 2px 8px rgba(59 130 246, 0.2);
}

.post-description::before {
  content: '"';
  position: absolute;
  top: -0.5rem;
  left: 1rem;
  font-size: 3rem;
  color: rgb(59 130 246);
  opacity: 0.3;
  font-family: Georgia, serif;
}

/* ================================================
   文章正文排版增强（基于 Tailwind Typography）
   ================================================ */

/* 正文容器 */
article.prose {
  max-width: 100%;
}

/* 段落间距优化 */
article.prose p {
  margin-bottom: 1.25rem;
  line-height: 1.5;
  text-align: justify;
}

/* 首字下沉（可选，已禁用）
article.prose > p:first-of-type::first-letter {
  float: left;
  font-size: 3.5rem;
  line-height: 1;
  margin-right: 0.5rem;
  margin-top: 0.1rem;
  font-weight: bold;
  color: rgb(59 130 246);
}
*/

/* 标题样式增强 */
article.prose h2 {
  position: relative;
  padding-bottom: 0.75rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  border-bottom: 2px solid rgb(229 231 235);
  scroll-margin-top: 6rem;
}

.dark article.prose h2 {
  border-bottom-color: rgb(55 65 81);
}

/* H2 标题左侧装饰条 */
article.prose h2::before {
  content: '';
  position: absolute;
  left: -1rem;
  top: 0.25rem;
  width: 4px;
  height: 1.5rem;
  background: linear-gradient(180deg, rgb(59 130 246), rgb(147 51 234));
  border-radius: 2px;
}

article.prose h3 {
  position: relative;
  padding-left: 0.75rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  scroll-margin-top: 6rem;
}

/* H3 标题左侧点 */
article.prose h3::before {
  content: '●';
  position: absolute;
  left: -0.5rem;
  line-height: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.35rem!important;
  @apply from-blue-700 to-indigo-300 bg-gradient-to-br bg-clip-text text-transparent;
}

.dark article.prose h3::before {
  color: rgb(192 132 252);
}

article.prose h4 {
  margin-top: 0.5rem;
  margin-bottom: 0.25rem;
  scroll-margin-top: 6rem;
}

/* 链接样式增强 */
article.prose a {
  position: relative;
  color: rgb(37 99 235);
  text-decoration: none;
  transition: all 0.2s ease;
}

.dark article.prose a {
  color: rgb(96 165 250);
}

article.prose a::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s ease;
}

article.prose a:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* 外部链接图标 */
article.prose a[href^="http"]::before {
  content: '🔗';
  margin-right: 0.25rem;
  font-size: 0.875em;
  opacity: 0.6;
}

/* 代码块增强 */
article.prose pre {
  position: relative;
  padding: 1.5rem;
  margin: 2rem 0;
  background: rgb(17 24 39);
  border-radius: 0.75rem;
  overflow-x: auto;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.dark article.prose pre {
  background: rgb(15 23 42);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

/* 代码块语言标签 */
article.prose pre::before {
  content: attr(data-lang);
  position: absolute;
  top: 0.5rem;
  right: 0.75rem;
  padding: 0.25rem 0.75rem;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 0.25rem;
  font-size: 0.75rem;
  text-transform: uppercase;
  color: rgb(156 163 175);
  font-weight: 600;
}

/* 行内代码 */
article.prose code {
  padding: 0.25rem 0.5rem;
  background: rgb(243 244 246);
  color: rgb(219 39 119);
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-weight: 500;
}

.dark article.prose code {
  background: rgb(31 41 55);
  color: rgb(244 114 182);
}

article.prose pre code {
  padding: 0;
  background: transparent;
  color: rgb(229 231 235);
  font-size: 0.875rem;
  font-weight: 400;
}

/* 引用块样式增强 */
article.prose blockquote {
  position: relative;
  padding: 1.25rem 1.5rem;
  margin: 2rem 0;
  background: linear-gradient(135deg, rgb(239 246 255), rgb(219 234 254));
  border-left: 4px solid rgb(59 130 246);
  border-radius: 0 0.5rem 0.5rem 0;
  font-style: normal;
  box-shadow: 0 2px 8px rgba(59 130 246, 0.1);
}

.dark article.prose blockquote {
  background: linear-gradient(135deg, rgba(30 58 138, 0.3), rgba(29 78 216, 0.2));
  box-shadow: 0 2px 8px rgba(59 130 246, 0.2);
}

article.prose blockquote p {
  margin: 0;
  color: rgb(55 65 81);
}

.dark article.prose blockquote p {
  color: rgb(209 213 219);
}

/* 引用块图标 */
article.prose blockquote::before {
  content: '💡';
  position: absolute;
  top: 0.75rem;
  left: -1.5rem;
  font-size: 1.5rem;
}

/* 列表样式增强 */
article.prose ul,
article.prose ol {
  margin: 1.5rem 0;
  padding-left: 2rem;
}

article.prose li {
  margin: 0.75rem 0;
  padding-left: 0.5rem;
}

article.prose ul li::marker {
  color: rgb(59 130 246);
  font-weight: bold;
}

.dark article.prose ul li::marker {
  color: rgb(96 165 250);
}

article.prose ol li::marker {
  color: rgb(147 51 234);
  font-weight: bold;
}

.dark article.prose ol li::marker {
  color: rgb(192 132 252);
}

/* 嵌套列表 */
article.prose li > ul,
article.prose li > ol {
  margin: 0.5rem 0;
}

/* 任务列表 */
article.prose input[type="checkbox"] {
  margin-right: 0.5rem;
  width: 1rem;
  height: 1rem;
  accent-color: rgb(59 130 246);
}

/* 表格样式增强 */
article.prose table {
  width: 100%;
  margin: 2rem 0;
  border-collapse: separate;
  border-spacing: 0;
  border-radius: 0.5rem;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.dark article.prose table {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

article.prose thead {
  background: linear-gradient(135deg, rgb(59 130 246), rgb(37 99 235));
  color: white;
}

article.prose th {
  padding: 0.75rem 1rem;
  font-weight: 600;
  text-align: left;
  border: none;
}

article.prose tbody tr {
  background: rgb(255 255 255);
  transition: background-color 0.2s ease;
}

.dark article.prose tbody tr {
  background: rgb(31 41 55);
}

article.prose tbody tr:nth-child(even) {
  background: rgb(249 250 251);
}

.dark article.prose tbody tr:nth-child(even) {
  background: rgb(55 65 81);
}

article.prose tbody tr:hover {
  background: rgb(239 246 255);
}

.dark article.prose tbody tr:hover {
  background: rgb(30 58 138);
}

article.prose td {
  padding: 0.75rem 1rem;
  border: 1px solid rgb(229 231 235);
  border-left: none;
  border-right: none;
}

.dark article.prose td {
  border-color: rgb(55 65 81);
}

/* 图片样式增强 */
article.prose img {
  margin: 2rem auto;
  border-radius: 0.75rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  max-width: 100%;
  height: auto;
}

.dark article.prose img {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}

/* 图片标题 */
article.prose img + em {
  display: block;
  text-align: center;
  font-size: 0.875rem;
  color: rgb(107 114 128);
  margin-top: 0.5rem;
  font-style: italic;
}

.dark article.prose img + em {
  color: rgb(156 163 175);
}

/* 水平分割线 */
article.prose hr {
  margin: 3rem 0;
  border: none;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgb(59 130 246), transparent);
}

.dark article.prose hr {
  background: linear-gradient(90deg, transparent, rgb(96 165 250), transparent);
}

/* ================================================
   社交分享按钮增强
   ================================================ */

.share-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  margin: 2rem 0;
}

.share-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 1.25rem;
  border-radius: 0.5rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.share-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.share-button svg {
  width: 1.25rem;
  height: 1.25rem;
}

/* ================================================
   文章导航（上一篇/下一篇）
   ================================================ */

.post-navigation {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 3rem;
}

.nav-card {
  position: relative;
  padding: 1.5rem;
  border-radius: 0.75rem;
  text-decoration: none;
  transition: all 0.3s ease;
  overflow: hidden;
}

.nav-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.nav-card:hover::before {
  opacity: 1;
}

.nav-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
}

.nav-card-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
}

.nav-card-title {
  font-size: 1.125rem;
  font-weight: 700;
  line-height: 1.5;
}

/* ================================================
   目录（TOC）侧边栏增强
   ================================================ */

.toc-sidebar {
  position: sticky;
  top: 6rem;
  max-height: calc(100vh - 8rem);
  overflow-y: auto;
  padding: 1.5rem;
  background: rgb(255 255 255);
  border-radius: 0.75rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.dark .toc-sidebar {
  background: rgb(31 41 55);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* TOC 滚动条优化 */
.toc-sidebar::-webkit-scrollbar {
  width: 4px;
}

.toc-sidebar::-webkit-scrollbar-thumb {
  background: rgb(209 213 219);
  border-radius: 2px;
}

.dark .toc-sidebar::-webkit-scrollbar-thumb {
  background: rgb(55 65 81);
}

/* ================================================
   响应式优化
   ================================================ */

@media (max-width: 1023px) {
  /* 移动端 TOC 优化 */
  .toc-sidebar {
    position: static;
    max-height: none;
    margin-bottom: 2rem;
  }
  
  /* 移动端文章标题 */
  article.prose h2::before {
    left: 0;
  }
  
  article.prose h2 {
    padding-left: 1.25rem;
  }
}

@media (max-width: 767px) {
  /* 小屏幕优化 */
  .post-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
  
  .post-taxonomies {
    flex-direction: column;
    gap: 0.75rem;
  }
  
  /* 代码块横向滚动 */
  article.prose pre {
    padding: 1rem;
  }
  
  /* 表格横向滚动 */
  article.prose table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }
}

/* ================================================
   打印优化
   ================================================ */

@media print {
  /* 打印时隐藏导航和交互元素 */
  .breadcrumb-nav,
  .share-buttons,
  .post-navigation,
  .toc-sidebar {
    display: none !important;
  }
  
  /* 打印时优化文章样式 */
  article.prose {
    max-width: 100%;
  }
  
  article.prose a::after {
    content: " (" attr(href) ")";
    font-size: 0.875em;
    color: rgb(107 114 128);
  }
  
  /* 避免分页时断开 */
  article.prose h2,
  article.prose h3,
  article.prose h4 {
    page-break-after: avoid;
  }
  
  article.prose p,
  article.prose li {
    page-break-inside: avoid;
  }
}

/* ================================================
   辅助功能增强
   ================================================ */

/* 跳过导航链接 */
.skip-to-content {
  position: absolute;
  top: -100%;
  left: 0;
  padding: 1rem;
  background: rgb(59 130 246);
  color: white;
  text-decoration: none;
  z-index: 100;
}

.skip-to-content:focus {
  top: 0;
}

/* 提高对比度模式支持 */
@media (prefers-contrast: high) {
  article.prose a {
    text-decoration: underline;
  }
  
  .category-badge,
  .tag-badge {
    border: 2px solid currentColor;
  }
}

/* 减少动画模式支持 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
